{% extends 'base.html' %}
    
{% block body %}    
    <div class="main_section">
        <section class="box_office">
            <h3 class="section_header">일일 박스오피스 {{ date }} 기준</h3>
            <div class="movie_strip swiper-container">
                <div class="swiper-wrapper">
                    {% for list in daily_lists %}
                        <div class="movie_preview swiper-slide" data-toggle="modal" data-target="#exampleModalCenter">
                            <img src="{{ list.posterUrl }}">
                            <div class="movie_poster_bg"></div>
                            <span class="movie_preview_text movie_title">{{ list.movieNm }}</span>
                            <span class="movie_preview_text movie_year">{{ list.openDt | slice:"0:4" }}년</span>
                            <div class="movie_preview_text movie_score">
                                <div class="star-ratings-css">
                                    <div class="star-ratings-css-top" style="width: calc({{ list.score }} * 10)%">
                                        <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                                    <div class="star-ratings-css-bottom">
                                        <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                                </div>
                            </div>
                        </div>
                        
                    {% endfor %}
                </div>
            </div>
        </section>
        <section class="recommendation">
            <h3 class="section_header">영화 추천<button class="btn btn-crimson advanced_rec">추천 더보기</button></h3>
            
            <div class="movie_strip swiper-container2">
                <div class="swiper-wrapper">
                    {% for list in daily_lists %}
                        <div class="movie_preview swiper-slide" data-toggle="modal" data-target="#exampleModalCenter">
                            <img src="{{ list.posterUrl }}">
                            <div class="movie_poster_bg"></div>
                            <span class="movie_preview_text movie_title">{{ list.movieNm }}</span>
                            <span class="movie_preview_text movie_year">{{ list.openDt | slice:"0:4" }}년</span>
                            <div class="movie_preview_text movie_score">
                                <div class="star-ratings-css">
                                    <div class="star-ratings-css-top" style="width: calc({{ list.score }} * 10)%">
                                        <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                                    <div class="star-ratings-css-bottom">
                                        <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            
        </section>
        <section class="recent_scores">
            <h3 class="section_header">최신 평점</h3>
        </section>
    </div>
    
    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-body modal_head">
                    <h3 class="movie_modal_title">{{ daily_lists.0.movieNm }} [{{daily_lists.0.openDt | slice:"0:4"}}]</h3>
                    <div class="movie_modal_left">
                        <div class="movie_modal_score">
                            <div class="star-ratings-css">
                                <div class="star-ratings-css-top" style="width: 90%">
                                    <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                                <div class="star-ratings-css-bottom">
                                    <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                            </div>
                            {{ daily_lists.0.score }}점
                            <button class="btn btn-sm btn-crimson">Add to watchlist</button>
                        </div>
                    </div>
                </div>
                
                <div class="modal-body modal_content">
                    <div class="movie_modal_left">
                        <div class="movie_modal_stills">
                            
                            <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
                              <div class="carousel-inner">
                                <div class="carousel-item active">
                                  <img src="{{daily_lists.0.stillCuts.0}}" class="d-block w-100" alt="...">
                                </div>
                                <div class="carousel-item">
                                  <img src="{{daily_lists.0.stillCuts.1}}" class="d-block w-100" alt="...">
                                </div>
                                <div class="carousel-item">
                                  <img src="{{daily_lists.0.stillCuts.2}}" class="d-block w-100" alt="...">
                                </div>
                              </div>
                              <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                              </a>
                              <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                              </a>
                            </div>
                        
                        </div>
                        <div class="movie_modal_trailer">
                            <iframe src="https://www.youtube.com/embed/{{daily_lists.0.trailer}}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <div class="movie_modal_text">
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                            modal text <br>
                        </div>
                    </div>
                    <div class="movie_modal_right">
                        <h4>평점</h4>
                        <div class="score_form_outer">
                            <div class="star_rate">
                                <span class="rating">
                                    <input type="radio" class="rating-input"
                                            id="rating-input-1-5" name="rating-input-1" value=10 v-model="rating_score">
                                    <label for="rating-input-1-5" class="rating-star" title="10" @mouseover="scoreHoverOver(10)" @mouseleave="scoreHoverLeave()">★</label>
                                    
                                    <input type="radio" class="rating-input"
                                            id="rating-input-1-4" name="rating-input-1" value=8 v-model="rating_score">
                                    <label for="rating-input-1-4" class="rating-star" title="8" @mouseover="scoreHoverOver(8)" @mouseleave="scoreHoverLeave()">★</label>
                                    
                                    <input type="radio" class="rating-input"
                                            id="rating-input-1-3" name="rating-input-1" value=6 v-model="rating_score">
                                    <label for="rating-input-1-3" class="rating-star" title="6" @mouseover="scoreHoverOver(6)" @mouseleave="scoreHoverLeave()">★</label>
                                    
                                    <input type="radio" class="rating-input"
                                            id="rating-input-1-2" name="rating-input-1" value=4 v-model="rating_score">
                                    <label for="rating-input-1-2" class="rating-star" title="4" @mouseover="scoreHoverOver(4)" @mouseleave="scoreHoverLeave()">★</label>
                                    
                                    <input type="radio" class="rating-input"
                                            id="rating-input-1-1" name="rating-input-1" value=2 v-model="rating_score">
                                    <label for="rating-input-1-1" class="rating-star" title="2" @mouseover="scoreHoverOver(2)" @mouseleave="scoreHoverLeave()">★</label>
                                </span>
                            </div>
                            <div class="score_num">
                                <span v-if="scoreHover">{{tmp}}10점</span>
                                <span v-else>{{ rating_score }}0점</span>
                            </div>
                            <input type="text" class="score_input">
                            <button class="btn btn-sm btn-crimson score_btn">등록</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    
{% endblock %}